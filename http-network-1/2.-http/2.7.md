# 2.7 지속연결로 접속량 절약

HTTP 초기 버전은 HTTP 통신을 한 번 할 때마다 TCP에 의해 연결과 종료를 할 필요가 있었다. 기존의 목적은 텍스트를 보내는 정도라 문제가 되지 않았지만 이미지등 리소스가 문서에 포함되면서 리퀘스트시 HTML 문서에 포함되어 있는 이미지를 획득하기 위해 여러번 리퀘스트를 보낸다. 이 리퀘스트를 보낼때마다 매번 TCP 연결과 종료를 하게 되는 쓸모없는 일이 발생되어 통신량이 늘어나게 된다.

TCP 커넥션연결  
HTTP리퀘스트/리스폰스  
TCP 커넥션종료

가 반복된다.

### 2.7.1 지속연결

HTTP/1.1, HTTP/1.0에서 TCP 연결문제를 해결하기 위해 지속연결을 고안하였다. 지속연결의 특징은 어느 한쪽에 명시적으로 연결을 종료하지 않으면 TCP 연결을 계속 유지한다.지속연결의 이점은 TCP 커넥션의 연결과 종료를 반복되는 오버헤드를 줄여주어 서버 부담이 줄어든다. 오버헤드를 줄인만큼 리퀘스트/리스폰스가 빨라진다. 지속연결은 HTTP /1.1에서는 표준 동작이지만 HTTP/1.0에서는 정식 사양이아니다.

### 2.7.2 파이프라인화

지속 연결은 여러 리퀘스트를 보낼 수 있도록 파이프라인화를 가능하게 한다. 파이프라인화에 의해, 리스폰스를 기다리지 않고 바로 다음 리퀘스트를 보낼 수 있다.개별 연결보다 지속연결이 리퀘스트 완료가 빠르고, 지속연결보다 파이프라인화가 더 빠르다.

